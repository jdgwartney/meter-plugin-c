<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial - Meter Plugin SDK for C</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Tutorial";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Meter Plugin SDK for C</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../install/">Installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Tutorial</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#meter-plugin-sdk-for-c-tutorial">Meter Plugin SDK for C Tutorial</a></li>
                
                    <li><a class="toctree-l4" href="#prerequisites">Prerequisites</a></li>
                
                    <li><a class="toctree-l4" href="#overview">Overview</a></li>
                
                    <li><a class="toctree-l4" href="#create-github-repository">Create GitHub Repository</a></li>
                
                    <li><a class="toctree-l4" href="#metric-definition">Metric Definition</a></li>
                
                    <li><a class="toctree-l4" href="#plugin-manifest">Plugin Manifest</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../development/">Development</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../examples/">Examples</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="install_meter/">Deploy Meter to Raspberry Pi</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Meter Plugin SDK for C</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Tutorial</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="meter-plugin-sdk-for-c-tutorial">Meter Plugin SDK for C Tutorial</h1>
<p>This is a tutorial on how to create a meter plugin using the meter plugin SDK for c.</p>
<p>This meter plugin will query the file system on the Raspberry Pi and output
the internal temperature of the hardware in either degrees Fahrenheit or Celsius</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Meter Plugin SDK has been install per instructions provided in
<a href="../install/">install</a></li>
<li>Tooling is in place as described by <a href="../development/">Tooling</a></li>
<li>A <a href="https://www.raspberrypi.org/">Raspberry Pi</a></li>
<li>TrueSight Pulse Meter Installed on Raspberry Pi
(see <a href="install_meter/">Deploy meter on a Raspberry Pi</a>)</li>
</ul>
<h2 id="overview">Overview</h2>
<p>Here is the high-level overview of the steps to create a meter plugin using
the meter plugin SDK in C.</p>
<ol>
<li>Create a public repository in GitHub for storing the contents of the meter
plugin.</li>
<li>Define the metrics to be used by the plugin in <code>metrics.json</code></li>
<li>Create the plugin manifest with metadata describing the plugin in <code>plugin.json</code></li>
<li>Implement the code of the meter plugin (add callbacks).</li>
<li>Build the binary that represents your plugin</li>
<li>Add the plugin to your account as a private plugin</li>
<li>Install the meter plugin binary on the target system</li>
<li>Deploy the plugin to the target system meter</li>
</ol>
<h2 id="create-github-repository">Create GitHub Repository</h2>
<p>A public GitHub repository is required to store the contents of the meter plugin.
If you need assistance in doing the step see the online tutorial
<a href="https://guides.github.com/activities/hello-world/">here</a></p>
<p>Clone the repository to the host where you plan to perform the development
steps. In this particular case it will be the Raspberry Pi.</p>
<h2 id="metric-definition">Metric Definition</h2>
<p>For this meter plugin there will be a single metric definition that will be used
to display the internal temperature of the Raspberry Pi.</p>
<p>Create a file <code>metrics.json</code> in the clone repository using favorite editor with the following contents:</p>
<pre><code>{
  &quot;RASPBERRY_PI_TEMPERATURE&quot;: {
    &quot;displayName&quot;: &quot;Temperature&quot;,
    &quot;displayNameShort&quot;: &quot;Temperature&quot;,
    &quot;description&quot;: &quot;Internal temperature of a Raspberry Pi&quot;,
    &quot;unit&quot;: &quot;number&quot;,
    &quot;defaultAggregate&quot;: &quot;avg&quot;,
    &quot;defaultResolutionMS&quot;: 1000
  }
}
</code></pre>

<p>Add a commit and commit this file to the repository.</p>
<p>Complete details on the format and fields, see
<a href="http://boundary.github.io/meter-plugin-developer-guide/user-guide/reference/metrics/">Metrics Reference</a></p>
<h2 id="plugin-manifest">Plugin Manifest</h2>
<p>The plugin manifest contains meta data about the plugin including how to configure
and run the plugin. In the plugin we developing in this tutorial there are
three input values to the plugin:</p>
<ul>
<li>A select that indicates that we want to output either: celsius or fahrenheit</li>
<li>How often to measure the Raspberry Pi temperature</li>
<li>Name of the source to be use in the graph display, which defaults to the hostname if
not specified.</li>
</ul>
<p>For complete details on the format and fields of the plugin manifest <code>plugins.json</code>,
see <a href="http://boundary.github.io/meter-plugin-developer-guide/user-guide/reference/manifest/">Plugin Manifest Reference</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../development/" class="btn btn-neutral float-right" title="Development"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../install/" class="btn btn-neutral" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../install/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../development/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
